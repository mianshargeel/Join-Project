<h2>Sign In</h2>

<form (ngSubmit)="login()" #formRef="ngForm">
  <input
    type="email"
    name="email"
    [(ngModel)]="email"
    placeholder="Email"
    required
    (input)="saveCredentials()"
  />

  <input
    type="password"
    name="password"
    [(ngModel)]="password"
    placeholder="Password"
    required
    (input)="saveCredentials()"
  /><br>
  <input type="checkbox" [(ngModel)]="rememberMe" (change)="toggleRemember()" name="rememberMe" />
  <label>Remember Me</label><br>

  <button type="submit" [disabled]="formRef.invalid || loading">
    @if (loading) {
      Logging in...
    } @else {
      Login
    }
  </button>
</form>

@if (errorMessage) {
  <div style="color: red; margin-top: 10px;">{{ errorMessage }}</div>
}

<p>
  Don't have an account?
  <a routerLink="/sign-up">Sign up here</a><br>
  <a routerLink="/board" (click)="loginAsGuest()">Guest User</a>
</p>

